# Spring Boot 設定ファイル
# 公式ドキュメント: https://docs.spring.io/spring-boot/appendix/application-properties/index.html

spring:
  application:
    # アプリケーション名（ログやモニタリングで識別に使用）
    name: cording-test

  # データソース設定
  # 公式ドキュメント: https://docs.spring.io/spring-boot/reference/data/sql.html#data.sql.datasource
  datasource:
    # H2インメモリDB（アプリ終了時にデータ消失）
    url: jdbc:h2:mem:orderdb;DB_CLOSE_DELAY=-1
    driver-class-name: org.h2.Driver
    username: sa
    password:

  # JPA設定
  # 公式ドキュメント: https://docs.spring.io/spring-boot/reference/data/sql.html#data.sql.jpa-and-spring-data
  # SQL初期化の実行タイミング
  # Hibernateによるテーブル作成後にdata.sqlを実行するために必要
  sql:
    init:
      mode: always

  jpa:
    # data.sqlの実行をHibernateの初期化後に遅延させる
    defer-datasource-initialization: true
    # 実行されるSQLをコンソールに出力（開発用、本番ではfalse推奨）
    show-sql: true
    hibernate:
      # スキーマ管理方法
      # - validate: スキーマを検証のみ（本番推奨）
      # - update: 差分を自動反映（開発用）
      # - create: 起動時に再作成
      # - create-drop: 起動時に作成、終了時に削除
      ddl-auto: create-drop

  # H2 Console（ブラウザからDBを確認できる開発ツール）
  # http://localhost:8080/h2-console でアクセス
  h2:
    console:
      enabled: true
